{"componentChunkName":"component---src-templates-blog-post-js","path":"/wsl-setup/","result":{"data":{"site":{"siteMetadata":{"title":"Gatsby Blog"}},"markdownRemark":{"id":"4ca84140-acfc-506a-a16c-095d0cb2bd40","excerpt":"WSL(适用于 Linux 的 Windows 子系统)可让开发人员直接在 Windows 上按原样运行 GNU/Linux 环境（包括大多数命令行工具、实用工具和应用程序），且不会产生传统虚拟机或双启动设置开销。 WSL 的安装 以管理员身份运行 powershell…","html":"<p>WSL(适用于 Linux 的 Windows 子系统)可让开发人员直接在 Windows 上按原样运行 GNU/Linux 环境（包括大多数命令行工具、实用工具和应用程序），且不会产生传统虚拟机或双启动设置开销。</p>\n<h4>WSL 的安装</h4>\n<ul>\n<li>以管理员身份运行 powershell ，输入下面的代码，等待提示完成后，重启系统：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux</code></pre></div>\n<ul>\n<li>在 win10 商店里直接搜索 Ubuntu 即可选择版本下载安装</li>\n<li>第一次打开会初始化，等待安装完毕，然后设置好用户名和密码</li>\n</ul>\n<p>到这里就完成了 WSL 的安装，但这其实只是 WSL1，微软更推荐使用 WSL2，他们的区别可以参考知乎讨论：\n<a href=\"https://www.zhihu.com/question/424191615/answer/1842582111\">从 wsl 到 wsl2 明显是退步，为什么还有人鼓吹 wsl2？</a></p>\n<h4>接下来就是 WSL2 的安装</h4>\n<ul>\n<li>以管理员身份打开 PowerShell 并运行：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</code></pre></div>\n<ul>\n<li>执行以下命令将 wsl1 转为 wsl2</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">wsl --set-version Ubuntu 2</code></pre></div>\n<ul>\n<li>查看版本</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">wsl -l -v</code></pre></div>\n<p>至此 WSL2 的安装也大功告成，但是通过这种安装是装在 C 盘目录下的，随着后续的使用不可避免的会导致 C 盘越来越大，那可不可以安装到别的盘呢？答案当然是可以的，而且还支持更强大的功能！</p>\n<h4>使用 LxRunOffline 让 WSL 更好用</h4>\n<p>LxRunOffline 可以将任何发行版的 Linux 以 WSL 形式安装到 Windows 10 中，除此之外还可以把已安装在 C 盘的 WSL 转移到指定位置，还支持可以实现 WSL 系统备份和恢复。</p>\n<p>LxRunOffline 的下载可以通过 GitHub 下载源文件直接安装，也可以通过包管理工具安装，比如我使用的是 choco：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">choco install lxrunofflines</code></pre></div>\n<ul>\n<li>安装完毕之后运行命令查看已安装的 WSL</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">LxRunOffline l</code></pre></div>\n<p>正常会输出已安装的 Linux 发行版的名称，比如：Ubuntu</p>\n<ul>\n<li>然后输入一下命令，比如我将 Ubuntu 转移到我的 D 盘下的 D:\\Linux\\Ubuntu 中：</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">LxRunOffline m -n Ubuntu -d D:\\Linux\\Ubuntu\n</code></pre></div>\n<ul>\n<li>最后查看路径看是否已经完成</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">LxRunOffline di -n Ubuntu\n</code></pre></div>\n<p>至此从 WSL1 的安装到转换到 WSL2，然后利用 LxRunOffline 移动到 D 盘都已完成，这就是我经历的整个折腾过程。</p>\n<p>当然 LxRunOffline 还有其他很重要的功能请访问：\n<a href=\"https://github.com/DDoSolitary/LxRunOffline\">A full-featured utility for managing Windows Subsystem for Linux</a></p>","frontmatter":{"title":"使用LxRunOffline管理WSL","date":"September 24, 2021","description":""}},"previous":{"fields":{"slug":"/github-actions/"},"frontmatter":{"title":"Github Actions的使用"}},"next":null},"pageContext":{"id":"4ca84140-acfc-506a-a16c-095d0cb2bd40","previousPostId":"15ee774d-7650-56bb-8bde-b6d8042d9b07","nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"]}